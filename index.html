<!DOCTYPE html>
<html lang="jp">
<head>
    <link rel="stylesheet" href="./typing.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">  
    <link rel="icon" href="./img/favicon.ico" type="image/x-icon">
    <title>typing_bata</title>
</head>
<body>
<article>
    <div id="game-body">
        <div id="start_view">
            <div id="stage_select">ステージ選択</div>
            <div id="local_del">履歴を削除</div>
            <div id="exinp">特殊入力設定</div>
            <div id="osets">設定</div>
            <div id="inp_m">問題文をインポート</div>
            <!--検討 <div id="makejson"><a href="JSON_maker.html">問題文を作る(JSONメーカー)</a></div> -->
            <input type="file" id="importFile" accept=".json" style="display: none;">
            <div id="game_title"></div>
            <div id="game-explain"></div>
            <button id="start_Btn" type="button">スタート</button>
            <br><br><br>
            <div id="display_options">
                <label>
                    <input type="checkbox" id="showExample" checked> 問題文を表示
                </label>
                <label>
                    <input type="checkbox" id="showKana" checked> かなを表示
                </label>
                <label>
                    <input type="checkbox" id="showSentence" checked> ローマ字を表示
                </label>
                <label>
                    <input type="checkbox" id="toggleUppercase">大文字で表示
                </label>
                <label>
                    <input type="checkbox" id="showWpmMeter" checked> WPMメーターを表示
                </label>
            </div>
        </div>
        <div id="wpm-meter-container" style="width: 100%; background: #eee; height: 20px; margin-bottom: 10px; position: relative;">
            <div id="wpm-meter-bar" style="height: 100%; width: 0; background: #4caf50;"></div>
            <span id="wpm-meter-label" style="position: absolute; left: 50%; top: 0; transform: translateX(-50%); font-size: 12px; line-height: 20px;">0 WPM</span>
        </div>
        <div id="main_view">
            <div id="misstype_screen"></div>
            <div id="start_msg">
                <p>日本語入力モードをオフにしてください</p>
                <p><em>スペースキーで開始</em></p>
                <p>（途中で終了することはできないので頑張ってください）</p>
            </div>
            <div id="example"></div>
            <div id="kana"></div>
            <div id="sentence"></div>
            <div id="progress_bar"></div>
        </div>
        <div id="virtual-keyboard" style="display: none;">
            <div class="row">
                <div class="key" data-key=""></div>
                <div class="key" data-key="1">1</div>
                <div class="key" data-key="2">2</div>
                <div class="key" data-key="3">3</div>
                <div class="key" data-key="4">4</div>
                <div class="key" data-key="5">5</div>
                <div class="key" data-key="6">6</div>
                <div class="key" data-key="7">7</div>
                <div class="key" data-key="8">8</div>
                <div class="key" data-key="9">9</div>
                <div class="key" data-key="0">0</div>
                <div class="key" data-key="-">-</div>
                <div class="key" data-key=""></div>
            </div>
            <div class="row">
                <div class="key" data-key="q">Q</div>
                <div class="key" data-key="w">W</div>
                <div class="key" data-key="e">E</div>
                <div class="key" data-key="r">R</div>
                <div class="key" data-key="t">T</div>
                <div class="key" data-key="y">Y</div>
                <div class="key" data-key="u">U</div>
                <div class="key" data-key="i">I</div>
                <div class="key" data-key="o">O</div>
                <div class="key" data-key="p">P</div>
                <div class="key" data-key=""></div>
                <div class="key" data-key=""></div>
            </div>
            <div class="row">
                <div class="key" data-key="a">A</div>
                <div class="key" data-key="s">S</div>
                <div class="key" data-key="d">D</div>
                <div class="key" data-key="f">F</div>
                <div class="key" data-key="g">G</div>
                <div class="key" data-key="h">H</div>
                <div class="key" data-key="j">J</div>
                <div class="key" data-key="k">K</div>
                <div class="key" data-key="l">L</div>
                <div class="key" data-key=";">;</div>
                <div class="key" data-key=""></div>
            </div>
            <div class="row">
                <div class="key" data-key="Shift">Shift</div>
                <div class="key" data-key="z">Z</div>
                <div class="key" data-key="x">X</div>
                <div class="key" data-key="c">C</div>
                <div class="key" data-key="v">V</div>
                <div class="key" data-key="b">B</div>
                <div class="key" data-key="n">N</div>
                <div class="key" data-key="m">M</div>
                <div class="key" data-key=",">,</div>
                <div class="key" data-key=".">.</div>
                <div class="key" data-key="/">/</div>
                <div class="key" data-key="Shift">Shift</div>
            </div>
            <div class="row">
                <div class="key space" data-key=" ">Space</div>
            </div>
        </div>
        <div id="results-container">
            <section id="game_result">
                <h1 class="type_result">今回のタイピング結果</h1>
                <div id="result_mondai"></div>
                <ul class="result_data">
                    <li>ステージ:　<strong><span id="result_stage" class="result_blue">---</span></strong></li>
                    <li>スコア: <strong><span id="result_score" class="result_blue">---</span></strong></li>
                    <li>ランク: <strong><span id="result_rank" class="result_blue">---</span></strong></li>
                    <li>所要時間: <strong><span id="result_time" class="result_blue">---</span></strong></li>
                    <li>入力文字数: <strong><span id="result_char_count" class="result_blue">---</span></strong></li>
                    <li>ミス入力数: <strong><span id="result_miss_count" class="result_blue">---</span></strong></li>
                    <li>WPM: <strong><span id="result_wpm" class="result_blue">---</span></strong></li>
                    <li>正確率: <strong><span id="result_accuracy" class="result_blue">---</span></strong></li>
                    <li><span id="result_comment"></span></li>
                </ul>
            </section>
            <section id="back_result">
                <h1 class="back_result">前回の結果</h1>
                <ul class="result_data">
                    <li>　<strong><span id="rresult_stage" class="result_blue">---</span></strong></li>
                    <li>　<strong><span id="rresult_score" class="result_blue">---</span></strong></li>
                    <li>　<strong><span id="rresult_rank" class="result_blue">---</span></strong></li>
                    <li>　<strong><span id="rresult_time" class="result_blue">---</span></strong></li>
                    <li>　<strong><span id="rresult_char_count" class="result_blue">---</span></strong></li>
                    <li>　<strong><span id="rresult_miss_count" class="result_blue">---</span></strong></li>
                    <li>　<strong><span id="rresult_wpm" class="result_blue">---</span></strong></li>
                    <li>　<strong><span id="rresult_accuracy" class="result_blue">---</span></strong></li>
                </ul>
            </section>
        </div>
        <div id="Btn_area" style="margin-top: 20px;">
            <button id="replay_button" class="btn" type="button">戻る</button>
        </div>
    </div>
    <div id="stage_menu">
        <ul>      
            <li data-value="jp1">日本編1章</li>
            <li data-value="jp2">日本編2章</li>
            <li data-value="jp3">日本編3章</li>
            <li data-value="fu1">未来編1章</li>
            <li data-value="fu2">未来編2章</li>
            <li data-value="fu3">未来編3章</li>
            <li data-value="sp1">宇宙編1章</li>
            <li data-value="sp2">宇宙編2章</li>
            <li data-value="sp3">宇宙編3章</li>
            <li data-value="ol1">レジェンド冠1</li>
            <li data-value="ol2">レジェンド冠2</li>
            <li data-value="ol3">レジェンド冠3</li>
            <li data-value="ol4">レジェンド冠4</li>
            <li data-value="nl1">真レジェンド冠1</li>
            <li data-value="nl2">真レジェンド冠2</li>
            <li data-value="nl3">真レジェンド冠3</li>
            <li data-value="nl4">真レジェンド冠4</li>
            <li data-value="0l1">0レジェンド</li>
            <li data-value="mka">魔界編</li>
            <li data-value="zjp">日本編ゾンビ襲来</li>
            <li data-value="zfu">未来編ゾンビ襲来</li>
            <li data-value="zsp">宇宙編ゾンビ襲来</li>
            <li data-value="img">画像でGO</li>
            <li data-value="inp">インポート</li>
            <li data-value="dbg">＿</li>
        </ul>
    </div>
    <div id="custom-input-modal" class="modal">
        <div class="modal-content">
            <span class="close-btn">&times;</span>
            <h2>特殊入力設定</h2>
            <p>ひらがなと対応キーを入力してください。</p>
            <input type="text" id="inputA" placeholder="ひらがな">
            <input type="text" id="inputB" placeholder="キー(半角)">
            <button id="add-to-map-btn">追加</button>
        </div>
    </div>
    <div id="settings-modal" class="modal">
        <div class="modal-content">
            <span class="close-btn">&times;</span>
            <h2>WPMメーターの基準値</h2>
            <p>初期値は700WPMです</p>
            <input type="number" id="inptwpm" placeholder="WPM" min="1" max="1200" value="700">
            <button id="add-mater-btn">設定</button>
            <br>
            <h2>最大問題数</h2>
            <p>初期値は15問です</p>
            <input type="number" id="inptmon" placeholder="最大問題数" min="1" value="15">
            <button id="add-mondai-btn">設定</button>
        </div>
    </div>
    
<script type="module" src="typing.js"></script>
</body>
</html>